{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Sanjay Singh\\\\Desktop\\\\NewCanvas\\\\frontend-app\\\\src\\\\NoteItCanvas.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from \"react\";\nimport CanvasDraw from \"react-canvas-draw\";\nimport \"./NoteItCanvas.css\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst NoteItCanvas = () => {\n  _s();\n  const [note, setNote] = useState(\"\");\n  const canvasRef = useRef(null);\n  const [color, setColor] = useState(\"#000\");\n  const [brushSize, setBrushSize] = useState(5);\n  const [isErasing, setIsErasing] = useState(false);\n  const [tool, setTool] = useState(\"brush\");\n  const [shapes, setShapes] = useState([]);\n  const [dragging, setDragging] = useState(false);\n  const [draggedShapeIndex, setDraggedShapeIndex] = useState(null);\n  const [offset, setOffset] = useState({\n    x: 0,\n    y: 0\n  });\n  const [toolActive, setToolActive] = useState(false);\n  const [background, setBackground] = useState(\"#ffffff\");\n  const [showColorPicker, setShowColorPicker] = useState(false);\n  const [showBrushSizePicker, setShowBrushSizePicker] = useState(false);\n  const [currentShapeColor, setCurrentShapeColor] = useState(\"#000000\");\n\n  // Instagram-like color palette\n  const colorPalette = [\"#000000\", \"#1a1a1a\", \"#333333\", \"#4d4d4d\", \"#666666\", \"#808080\", \"#999999\", \"#b3b3b3\", \"#cccccc\", \"#e6e6e6\", \"#ffffff\", \"#ff0000\", \"#ff4000\", \"#ff8000\", \"#ffbf00\", \"#ffff00\", \"#bfff00\", \"#80ff00\", \"#40ff00\", \"#00ff00\", \"#00ff40\", \"#00ff80\", \"#00ffbf\", \"#00ffff\", \"#00bfff\", \"#0080ff\", \"#0040ff\", \"#0000ff\", \"#4000ff\", \"#8000ff\", \"#bf00ff\", \"#ff00ff\", \"#ff00bf\", \"#ff0080\", \"#ff0040\"];\n  const resizeCanvas = () => {\n    if (canvasRef.current) {\n      const container = canvasRef.current.canvasContainer;\n      const canvas = container.querySelector(\"canvas\");\n      if (canvas) {\n        canvas.width = container.offsetWidth;\n        canvas.height = container.offsetHeight;\n      }\n    }\n  };\n  useEffect(() => {\n    resizeCanvas();\n    window.addEventListener(\"resize\", resizeCanvas);\n    return () => window.removeEventListener(\"resize\", resizeCanvas);\n  }, []);\n\n  // Brush Icon Component\n  const BrushIcon = () => /*#__PURE__*/_jsxDEV(\"svg\", {\n    className: \"w-6 h-6 text-gray-800 dark:text-white\",\n    \"aria-hidden\": \"true\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"30\",\n    height: \"55\",\n    fill: \"currentColor\",\n    viewBox: \"0 0 24 24\",\n    children: /*#__PURE__*/_jsxDEV(\"path\", {\n      fillRule: \"evenodd\",\n      d: \"M14 4.182A4.136 4.136 0 0 1 16.9 3c1.087 0 2.13.425 2.899 1.182A4.01 4.01 0 0 1 21 7.037c0 1.068-.43 2.092-1.194 2.849L18.5 11.214l-5.8-5.71 1.287-1.31.012-.012Zm-2.717 2.763L6.186 12.13l2.175 2.141 5.063-5.218-2.141-2.108Zm-6.25 6.886-1.98 5.849a.992.992 0 0 0 .245 1.026 1.03 1.03 0 0 0 1.043.242L10.282 19l-5.25-5.168Zm6.954 4.01 5.096-5.186-2.218-2.183-5.063 5.218 2.185 2.15Z\",\n      clipRule: \"evenodd\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this);\n  const toggleEraser = () => {\n    if (isErasing) {\n      setColor(\"#000\");\n    } else {\n      setColor(\"#FFFFFF\");\n    }\n    setIsErasing(!isErasing);\n  };\n  const saveDrawing = () => {\n    if (!canvasRef.current) return;\n    const canvas = canvasRef.current.canvasContainer.children[1];\n    const textCanvas = document.createElement(\"canvas\");\n    const textCtx = textCanvas.getContext(\"2d\");\n    const width = 800;\n    const height = 600;\n    textCanvas.width = width;\n    textCanvas.height = height;\n\n    // Fill with selected background color\n    textCtx.fillStyle = background;\n    textCtx.fillRect(0, 0, width, height);\n\n    // Draw the original canvas\n    textCtx.drawImage(canvas, 0, 0, canvas.width, canvas.height);\n\n    // Draw shapes\n    shapes.forEach(shape => {\n      textCtx.strokeStyle = color;\n      textCtx.lineWidth = brushSize;\n      textCtx.fillStyle = shape.fillColor;\n      if (shape.type === \"rectangle\" || shape.type === \"square\") {\n        textCtx.fillRect(shape.x, shape.y, shape.width, shape.height);\n        textCtx.strokeRect(shape.x, shape.y, shape.width, shape.height);\n      } else if (shape.type === \"diamond\") {\n        textCtx.beginPath();\n        textCtx.moveTo(shape.x, shape.y - shape.height / 2);\n        textCtx.lineTo(shape.x - shape.width / 2, shape.y);\n        textCtx.lineTo(shape.x, shape.y + shape.height / 2);\n        textCtx.lineTo(shape.x + shape.width / 2, shape.y);\n        textCtx.closePath();\n        textCtx.fill();\n        textCtx.stroke();\n      } else if (shape.type === \"circle\") {\n        textCtx.beginPath();\n        textCtx.arc(shape.x, shape.y, shape.radiusX, 0, 2 * Math.PI);\n        textCtx.fill();\n        textCtx.stroke();\n      } else if (shape.type === \"oval\") {\n        textCtx.beginPath();\n        textCtx.ellipse(shape.x, shape.y, shape.radiusX, shape.radiusY, 0, 0, 2 * Math.PI);\n        textCtx.fill();\n        textCtx.stroke();\n      } else if (shape.type === \"triangle\") {\n        textCtx.beginPath();\n        textCtx.moveTo(shape.x, shape.y);\n        textCtx.lineTo(shape.x + shape.width / 2, shape.y - shape.height);\n        textCtx.lineTo(shape.x + shape.width, shape.y);\n        textCtx.closePath();\n        textCtx.fill();\n        textCtx.stroke();\n      }\n    });\n\n    // Draw text\n    if (note) {\n      textCtx.font = \"20px Arial\";\n      textCtx.fillStyle = \"#000\";\n      textCtx.fillText(note, 20, height - 30);\n    }\n    const dataUrl = textCanvas.toDataURL(\"image/png\");\n    const link = document.createElement(\"a\");\n    link.href = dataUrl;\n    link.download = \"my_drawing.png\";\n    link.click();\n  };\n\n  // New function to share via WhatsApp\n  const shareViaWhatsApp = () => {\n    if (!canvasRef.current) return;\n    const canvas = canvasRef.current.canvasContainer.children[1];\n    const tempCanvas = document.createElement(\"canvas\");\n    const tempCtx = tempCanvas.getContext(\"2d\");\n    tempCanvas.width = canvas.width;\n    tempCanvas.height = canvas.height;\n\n    // Draw background\n    tempCtx.fillStyle = background;\n    tempCtx.fillRect(0, 0, tempCanvas.width, tempCanvas.height);\n\n    // Draw canvas\n    tempCtx.drawImage(canvas, 0, 0);\n\n    // Draw shapes\n    shapes.forEach(shape => {\n      tempCtx.strokeStyle = color;\n      tempCtx.lineWidth = brushSize;\n      tempCtx.fillStyle = shape.fillColor;\n      if (shape.type === \"rectangle\" || shape.type === \"square\") {\n        tempCtx.fillRect(shape.x, shape.y, shape.width, shape.height);\n        tempCtx.strokeRect(shape.x, shape.y, shape.width, shape.height);\n      } else if (shape.type === \"diamond\") {\n        tempCtx.beginPath();\n        tempCtx.moveTo(shape.x, shape.y - shape.height / 2);\n        tempCtx.lineTo(shape.x - shape.width / 2, shape.y);\n        tempCtx.lineTo(shape.x, shape.y + shape.height / 2);\n        tempCtx.lineTo(shape.x + shape.width / 2, shape.y);\n        tempCtx.closePath();\n        tempCtx.fill();\n        tempCtx.stroke();\n      } else if (shape.type === \"circle\") {\n        tempCtx.beginPath();\n        tempCtx.arc(shape.x, shape.y, shape.radiusX, 0, 2 * Math.PI);\n        tempCtx.fill();\n        tempCtx.stroke();\n      } else if (shape.type === \"oval\") {\n        tempCtx.beginPath();\n        tempCtx.ellipse(shape.x, shape.y, shape.radiusX, shape.radiusY, 0, 0, 2 * Math.PI);\n        tempCtx.fill();\n        tempCtx.stroke();\n      } else if (shape.type === \"triangle\") {\n        tempCtx.beginPath();\n        tempCtx.moveTo(shape.x, shape.y);\n        tempCtx.lineTo(shape.x + shape.width / 2, shape.y - shape.height);\n        tempCtx.lineTo(shape.x + shape.width, shape.y);\n        tempCtx.closePath();\n        tempCtx.fill();\n        tempCtx.stroke();\n      }\n    });\n\n    // Draw text\n    if (note) {\n      tempCtx.font = \"20px Arial\";\n      tempCtx.fillStyle = \"#000\";\n      tempCtx.fillText(note, 20, tempCanvas.height - 30);\n    }\n    const dataUrl = tempCanvas.toDataURL(\"image/png\");\n    const message = encodeURIComponent(\"Check out my drawing!\");\n    const whatsappUrl = `whatsapp://send?text=${message}&data=${dataUrl}`;\n\n    // For web implementation, you might need a different approach\n    window.open(`https://api.whatsapp.com/send?text=${message}`, '_blank');\n  };\n  const drawShape = e => {\n    if (tool === \"brush\" || dragging || !toolActive) return;\n    const canvas = canvasRef.current.canvasContainer.children[1];\n    const rect = canvas.getBoundingClientRect();\n    const x = e.clientX - rect.left;\n    const y = e.clientY - rect.top;\n    const newShape = {\n      type: tool,\n      x,\n      y,\n      width: 100,\n      height: tool === \"square\" || tool === \"diamond\" ? 100 : 70,\n      radiusX: tool === \"oval\" ? 100 : 50,\n      radiusY: tool === \"oval\" ? 70 : 50,\n      fillColor: currentShapeColor\n    };\n    setShapes([...shapes, newShape]);\n    setToolActive(false);\n  };\n  const handleMouseDown = e => {\n    const canvas = canvasRef.current.canvasContainer.children[1];\n    const rect = canvas.getBoundingClientRect();\n    const x = e.clientX - rect.left;\n    const y = e.clientY - rect.top;\n    const clickedShapeIndex = shapes.findIndex(shape => {\n      if (shape.type === \"rectangle\" || shape.type === \"square\" || shape.type === \"diamond\") {\n        return x >= shape.x && x <= shape.x + shape.width && y >= shape.y && y <= shape.y + shape.height;\n      } else if (shape.type === \"circle\" || shape.type === \"oval\") {\n        const dx = x - shape.x;\n        const dy = y - shape.y;\n        return dx * dx / (shape.radiusX * shape.radiusX) + dy * dy / (shape.radiusY * shape.radiusY) <= 1;\n      } else if (shape.type === \"triangle\") {\n        return x >= shape.x && x <= shape.x + shape.width && y >= shape.y && y <= shape.y + shape.height;\n      }\n      return false;\n    });\n    if (clickedShapeIndex !== -1) {\n      setDragging(true);\n      setDraggedShapeIndex(clickedShapeIndex);\n      setOffset({\n        x: x - shapes[clickedShapeIndex].x,\n        y: y - shapes[clickedShapeIndex].y\n      });\n      canvasRef.current.brushRadius = 0;\n    }\n  };\n  const handleMouseMove = e => {\n    if (!dragging || draggedShapeIndex === null) return;\n    const canvas = canvasRef.current.canvasContainer.children[1];\n    const rect = canvas.getBoundingClientRect();\n    const x = e.clientX - rect.left;\n    const y = e.clientY - rect.top;\n    const updatedShapes = [...shapes];\n    updatedShapes[draggedShapeIndex] = {\n      ...updatedShapes[draggedShapeIndex],\n      x: x - offset.x,\n      y: y - offset.y\n    };\n    setShapes(updatedShapes);\n  };\n  const handleMouseUp = () => {\n    if (dragging) {\n      setDragging(false);\n      setDraggedShapeIndex(null);\n      canvasRef.current.brushRadius = brushSize;\n    }\n  };\n  const drawAllShapes = () => {\n    const canvas = canvasRef.current.canvasContainer.children[1];\n    const ctx = canvas.getContext(\"2d\");\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    shapes.forEach(shape => {\n      ctx.strokeStyle = color;\n      ctx.lineWidth = brushSize;\n      ctx.fillStyle = shape.fillColor;\n      if (shape.type === \"rectangle\" || shape.type === \"square\") {\n        ctx.fillRect(shape.x, shape.y, shape.width, shape.height);\n        ctx.strokeRect(shape.x, shape.y, shape.width, shape.height);\n      } else if (shape.type === \"diamond\") {\n        ctx.beginPath();\n        ctx.moveTo(shape.x, shape.y - shape.height / 2);\n        ctx.lineTo(shape.x - shape.width / 2, shape.y);\n        ctx.lineTo(shape.x, shape.y + shape.height / 2);\n        ctx.lineTo(shape.x + shape.width / 2, shape.y);\n        ctx.closePath();\n        ctx.fill();\n        ctx.stroke();\n      } else if (shape.type === \"circle\") {\n        ctx.beginPath();\n        ctx.arc(shape.x, shape.y, shape.radiusX, 0, 2 * Math.PI);\n        ctx.fill();\n        ctx.stroke();\n      } else if (shape.type === \"oval\") {\n        ctx.beginPath();\n        ctx.ellipse(shape.x, shape.y, shape.radiusX, shape.radiusY, 0, 0, 2 * Math.PI);\n        ctx.fill();\n        ctx.stroke();\n      } else if (shape.type === \"triangle\") {\n        ctx.beginPath();\n        ctx.moveTo(shape.x, shape.y);\n        ctx.lineTo(shape.x + shape.width / 2, shape.y - shape.height);\n        ctx.lineTo(shape.x + shape.width, shape.y);\n        ctx.closePath();\n        ctx.fill();\n        ctx.stroke();\n      }\n    });\n  };\n  useEffect(() => {\n    drawAllShapes();\n  }, [shapes]);\n  const handleToolChange = newTool => {\n    setTool(newTool);\n    setToolActive(true);\n  };\n  const undoShape = () => {\n    if (shapes.length > 0) {\n      setShapes(prevShapes => prevShapes.slice(0, -1));\n    } else {\n      var _canvasRef$current;\n      (_canvasRef$current = canvasRef.current) === null || _canvasRef$current === void 0 ? void 0 : _canvasRef$current.undo();\n    }\n  };\n\n  // SVG Icons\n  const RectangleIcon = () => /*#__PURE__*/_jsxDEV(\"svg\", {\n    width: \"30\",\n    height: \"30\",\n    viewBox: \"0 0 24 24\",\n    fill: \"currentColor\",\n    children: /*#__PURE__*/_jsxDEV(\"rect\", {\n      x: \"2\",\n      y: \"2\",\n      width: \"20\",\n      height: \"20\",\n      stroke: \"currentColor\",\n      strokeWidth: \"2\",\n      fill: \"none\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 365,\n    columnNumber: 5\n  }, this);\n  const SquareIcon = () => /*#__PURE__*/_jsxDEV(\"svg\", {\n    width: \"30\",\n    height: \"30\",\n    viewBox: \"0 0 24 24\",\n    fill: \"currentColor\",\n    children: /*#__PURE__*/_jsxDEV(\"rect\", {\n      x: \"2\",\n      y: \"2\",\n      width: \"20\",\n      height: \"20\",\n      stroke: \"currentColor\",\n      strokeWidth: \"2\",\n      fill: \"none\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 372,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 371,\n    columnNumber: 5\n  }, this);\n  const CircleIcon = () => /*#__PURE__*/_jsxDEV(\"svg\", {\n    width: \"30\",\n    height: \"30\",\n    viewBox: \"0 0 24 24\",\n    fill: \"currentColor\",\n    children: /*#__PURE__*/_jsxDEV(\"circle\", {\n      cx: \"12\",\n      cy: \"12\",\n      r: \"10\",\n      stroke: \"currentColor\",\n      strokeWidth: \"2\",\n      fill: \"none\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 378,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 377,\n    columnNumber: 5\n  }, this);\n  const TriangleIcon = () => /*#__PURE__*/_jsxDEV(\"svg\", {\n    width: \"30\",\n    height: \"30\",\n    viewBox: \"0 0 24 24\",\n    fill: \"currentColor\",\n    children: /*#__PURE__*/_jsxDEV(\"polygon\", {\n      points: \"12,2 22,22 2,22\",\n      stroke: \"currentColor\",\n      strokeWidth: \"2\",\n      fill: \"none\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 384,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 383,\n    columnNumber: 5\n  }, this);\n  const DiamondIcon = () => /*#__PURE__*/_jsxDEV(\"svg\", {\n    width: \"30\",\n    height: \"30\",\n    viewBox: \"0 0 24 24\",\n    fill: \"currentColor\",\n    children: /*#__PURE__*/_jsxDEV(\"polygon\", {\n      points: \"12,2 22,12 12,22 2,12\",\n      stroke: \"currentColor\",\n      strokeWidth: \"2\",\n      fill: \"none\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 390,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 389,\n    columnNumber: 5\n  }, this);\n  const OvalIcon = () => /*#__PURE__*/_jsxDEV(\"svg\", {\n    width: \"30\",\n    height: \"30\",\n    viewBox: \"0 0 24 24\",\n    fill: \"currentColor\",\n    children: /*#__PURE__*/_jsxDEV(\"ellipse\", {\n      cx: \"12\",\n      cy: \"12\",\n      rx: \"10\",\n      ry: \"6\",\n      stroke: \"currentColor\",\n      strokeWidth: \"2\",\n      fill: \"none\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 396,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 395,\n    columnNumber: 5\n  }, this);\n  const navigate = useNavigate();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"note-container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main-box\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"top-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"column\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Tools\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 407,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"button-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleToolChange(\"brush\"),\n              className: tool === \"brush\" ? \"active-tool\" : \"\",\n              children: /*#__PURE__*/_jsxDEV(BrushIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 413,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 409,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: toggleEraser,\n              children: isErasing ? \"Use Brush\" : \"Use Eraser\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 415,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 408,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 406,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"column\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Colour\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 422,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"color-picker-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setShowColorPicker(!showColorPicker),\n              className: \"color-preview\",\n              style: {\n                backgroundColor: color\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 424,\n              columnNumber: 15\n            }, this), showColorPicker && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"color-palette\",\n              children: colorPalette.map(c => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"color-swatch\",\n                style: {\n                  backgroundColor: c\n                },\n                onClick: () => {\n                  setColor(c);\n                  setShowColorPicker(false);\n                  setIsErasing(false);\n                }\n              }, c, false, {\n                fileName: _jsxFileName,\n                lineNumber: 432,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 430,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 423,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"brush-size-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setShowBrushSizePicker(!showBrushSizePicker),\n              className: \"brush-size-preview\",\n              children: [brushSize, \"px\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 447,\n              columnNumber: 15\n            }, this), showBrushSizePicker && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"brush-size-options\",\n              children: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10].map(size => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"brush-size-option\",\n                onClick: () => {\n                  setBrushSize(size);\n                  setShowBrushSizePicker(false);\n                },\n                children: [size, \"px\"]\n              }, size, true, {\n                fileName: _jsxFileName,\n                lineNumber: 456,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 454,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 446,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 421,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"column\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Shapes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 473,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"shape-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleToolChange(\"rectangle\"),\n              className: tool === \"rectangle\" ? \"active-tool\" : \"\",\n              children: /*#__PURE__*/_jsxDEV(RectangleIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 479,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 475,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleToolChange(\"square\"),\n              className: tool === \"square\" ? \"active-tool\" : \"\",\n              children: /*#__PURE__*/_jsxDEV(SquareIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 485,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 481,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleToolChange(\"circle\"),\n              className: tool === \"circle\" ? \"active-tool\" : \"\",\n              children: /*#__PURE__*/_jsxDEV(CircleIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 491,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 487,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 474,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"shape-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleToolChange(\"triangle\"),\n              className: tool === \"triangle\" ? \"active-tool\" : \"\",\n              children: /*#__PURE__*/_jsxDEV(TriangleIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 499,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 495,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleToolChange(\"diamond\"),\n              className: tool === \"diamond\" ? \"active-tool\" : \"\",\n              children: /*#__PURE__*/_jsxDEV(DiamondIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 505,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 501,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleToolChange(\"oval\"),\n              className: tool === \"oval\" ? \"active-tool\" : \"\",\n              children: /*#__PURE__*/_jsxDEV(OvalIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 511,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 507,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 494,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"shape-color-picker\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Shape Color:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 515,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"color\",\n              value: currentShapeColor,\n              onChange: e => setCurrentShapeColor(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 516,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 514,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 472,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"column\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Edit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 525,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              var _canvasRef$current2;\n              return (_canvasRef$current2 = canvasRef.current) === null || _canvasRef$current2 === void 0 ? void 0 : _canvasRef$current2.clear();\n            },\n            children: \"Clear\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 526,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: undoShape,\n            children: \"Undo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 527,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"background-picker\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Background:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 529,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"color\",\n              value: background,\n              onChange: e => setBackground(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 530,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 528,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 524,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 405,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        onClick: drawShape,\n        onMouseDown: handleMouseDown,\n        onMouseMove: handleMouseMove,\n        onMouseUp: handleMouseUp,\n        style: {\n          width: \"100%\",\n          height: \"500px\",\n          position: \"relative\",\n          border: \"1px solid #ccc\",\n          backgroundColor: background\n        },\n        children: /*#__PURE__*/_jsxDEV(CanvasDraw, {\n          ref: canvasRef,\n          brushColor: color,\n          brushRadius: tool === \"brush\" ? brushSize : 0,\n          lazyRadius: 0,\n          canvasWidth: 800,\n          canvasHeight: 500,\n          hideGrid: true,\n          className: \"drawing-canvas\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 552,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 539,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        className: \"note-input\",\n        placeholder: \"Write your note...\",\n        value: note,\n        onChange: e => setNote(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 564,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"btn-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: saveDrawing,\n          children: \"Save Drawing\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 572,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: shareViaWhatsApp,\n          className: \"postcard-button\",\n          children: \"Share as Postcard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 573,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate('/gallery'),\n          children: \"Go to Gallery\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 576,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 571,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 404,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 403,\n    columnNumber: 5\n  }, this);\n};\n_s(NoteItCanvas, \"OHIXMatF7v0G9xgnd/hl82n3bTQ=\", false, function () {\n  return [useNavigate];\n});\n_c = NoteItCanvas;\nexport default NoteItCanvas;\nvar _c;\n$RefreshReg$(_c, \"NoteItCanvas\");","map":{"version":3,"names":["React","useState","useRef","useEffect","CanvasDraw","useNavigate","jsxDEV","_jsxDEV","NoteItCanvas","_s","note","setNote","canvasRef","color","setColor","brushSize","setBrushSize","isErasing","setIsErasing","tool","setTool","shapes","setShapes","dragging","setDragging","draggedShapeIndex","setDraggedShapeIndex","offset","setOffset","x","y","toolActive","setToolActive","background","setBackground","showColorPicker","setShowColorPicker","showBrushSizePicker","setShowBrushSizePicker","currentShapeColor","setCurrentShapeColor","colorPalette","resizeCanvas","current","container","canvasContainer","canvas","querySelector","width","offsetWidth","height","offsetHeight","window","addEventListener","removeEventListener","BrushIcon","className","xmlns","fill","viewBox","children","fillRule","d","clipRule","fileName","_jsxFileName","lineNumber","columnNumber","toggleEraser","saveDrawing","textCanvas","document","createElement","textCtx","getContext","fillStyle","fillRect","drawImage","forEach","shape","strokeStyle","lineWidth","fillColor","type","strokeRect","beginPath","moveTo","lineTo","closePath","stroke","arc","radiusX","Math","PI","ellipse","radiusY","font","fillText","dataUrl","toDataURL","link","href","download","click","shareViaWhatsApp","tempCanvas","tempCtx","message","encodeURIComponent","whatsappUrl","open","drawShape","e","rect","getBoundingClientRect","clientX","left","clientY","top","newShape","handleMouseDown","clickedShapeIndex","findIndex","dx","dy","brushRadius","handleMouseMove","updatedShapes","handleMouseUp","drawAllShapes","ctx","clearRect","handleToolChange","newTool","undoShape","length","prevShapes","slice","_canvasRef$current","undo","RectangleIcon","strokeWidth","SquareIcon","CircleIcon","cx","cy","r","TriangleIcon","points","DiamondIcon","OvalIcon","rx","ry","navigate","onClick","style","backgroundColor","map","c","size","value","onChange","target","_canvasRef$current2","clear","onMouseDown","onMouseMove","onMouseUp","position","border","ref","brushColor","lazyRadius","canvasWidth","canvasHeight","hideGrid","placeholder","_c","$RefreshReg$"],"sources":["C:/Users/Sanjay Singh/Desktop/NewCanvas/frontend-app/src/NoteItCanvas.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\r\nimport CanvasDraw from \"react-canvas-draw\";\r\nimport \"./NoteItCanvas.css\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst NoteItCanvas = () => {\r\n  const [note, setNote] = useState(\"\");\r\n  const canvasRef = useRef(null);\r\n  const [color, setColor] = useState(\"#000\");\r\n  const [brushSize, setBrushSize] = useState(5);\r\n  const [isErasing, setIsErasing] = useState(false);\r\n  const [tool, setTool] = useState(\"brush\");\r\n  const [shapes, setShapes] = useState([]);\r\n  const [dragging, setDragging] = useState(false);\r\n  const [draggedShapeIndex, setDraggedShapeIndex] = useState(null);\r\n  const [offset, setOffset] = useState({ x: 0, y: 0 });\r\n  const [toolActive, setToolActive] = useState(false);\r\n  const [background, setBackground] = useState(\"#ffffff\");\r\n  const [showColorPicker, setShowColorPicker] = useState(false);\r\n  const [showBrushSizePicker, setShowBrushSizePicker] = useState(false);\r\n  const [currentShapeColor, setCurrentShapeColor] = useState(\"#000000\");\r\n\r\n  // Instagram-like color palette\r\n  const colorPalette = [\r\n    \"#000000\", \"#1a1a1a\", \"#333333\", \"#4d4d4d\", \"#666666\",\r\n    \"#808080\", \"#999999\", \"#b3b3b3\", \"#cccccc\", \"#e6e6e6\",\r\n    \"#ffffff\", \"#ff0000\", \"#ff4000\", \"#ff8000\", \"#ffbf00\",\r\n    \"#ffff00\", \"#bfff00\", \"#80ff00\", \"#40ff00\", \"#00ff00\",\r\n    \"#00ff40\", \"#00ff80\", \"#00ffbf\", \"#00ffff\", \"#00bfff\",\r\n    \"#0080ff\", \"#0040ff\", \"#0000ff\", \"#4000ff\", \"#8000ff\",\r\n    \"#bf00ff\", \"#ff00ff\", \"#ff00bf\", \"#ff0080\", \"#ff0040\"\r\n  ];\r\n\r\n  const resizeCanvas = () => {\r\n    if (canvasRef.current) {\r\n      const container = canvasRef.current.canvasContainer;\r\n      const canvas = container.querySelector(\"canvas\");\r\n\r\n      if (canvas) {\r\n        canvas.width = container.offsetWidth;\r\n        canvas.height = container.offsetHeight;\r\n      }\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    resizeCanvas();\r\n    window.addEventListener(\"resize\", resizeCanvas);\r\n    return () => window.removeEventListener(\"resize\", resizeCanvas);\r\n  }, []);\r\n\r\n  // Brush Icon Component\r\n  const BrushIcon = () => (\r\n    <svg\r\n      className=\"w-6 h-6 text-gray-800 dark:text-white\"\r\n      aria-hidden=\"true\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      width=\"30\"\r\n      height=\"55\"\r\n      fill=\"currentColor\"\r\n      viewBox=\"0 0 24 24\"\r\n    >\r\n      <path\r\n        fillRule=\"evenodd\"\r\n        d=\"M14 4.182A4.136 4.136 0 0 1 16.9 3c1.087 0 2.13.425 2.899 1.182A4.01 4.01 0 0 1 21 7.037c0 1.068-.43 2.092-1.194 2.849L18.5 11.214l-5.8-5.71 1.287-1.31.012-.012Zm-2.717 2.763L6.186 12.13l2.175 2.141 5.063-5.218-2.141-2.108Zm-6.25 6.886-1.98 5.849a.992.992 0 0 0 .245 1.026 1.03 1.03 0 0 0 1.043.242L10.282 19l-5.25-5.168Zm6.954 4.01 5.096-5.186-2.218-2.183-5.063 5.218 2.185 2.15Z\"\r\n        clipRule=\"evenodd\"\r\n      />\r\n    </svg>\r\n  );\r\n\r\n  const toggleEraser = () => {\r\n    if (isErasing) {\r\n      setColor(\"#000\");\r\n    } else {\r\n      setColor(\"#FFFFFF\");\r\n    }\r\n    setIsErasing(!isErasing);\r\n  };\r\n\r\n  const saveDrawing = () => {\r\n    if (!canvasRef.current) return;\r\n\r\n    const canvas = canvasRef.current.canvasContainer.children[1];\r\n    const textCanvas = document.createElement(\"canvas\");\r\n    const textCtx = textCanvas.getContext(\"2d\");\r\n\r\n    const width = 800;\r\n    const height = 600;\r\n    textCanvas.width = width;\r\n    textCanvas.height = height;\r\n\r\n    // Fill with selected background color\r\n    textCtx.fillStyle = background;\r\n    textCtx.fillRect(0, 0, width, height);\r\n\r\n    // Draw the original canvas\r\n    textCtx.drawImage(canvas, 0, 0, canvas.width, canvas.height);\r\n\r\n    // Draw shapes\r\n    shapes.forEach((shape) => {\r\n      textCtx.strokeStyle = color;\r\n      textCtx.lineWidth = brushSize;\r\n      textCtx.fillStyle = shape.fillColor;\r\n\r\n      if (shape.type === \"rectangle\" || shape.type === \"square\") {\r\n        textCtx.fillRect(shape.x, shape.y, shape.width, shape.height);\r\n        textCtx.strokeRect(shape.x, shape.y, shape.width, shape.height);\r\n      } else if (shape.type === \"diamond\") {\r\n        textCtx.beginPath();\r\n        textCtx.moveTo(shape.x, shape.y - shape.height / 2);\r\n        textCtx.lineTo(shape.x - shape.width / 2, shape.y);\r\n        textCtx.lineTo(shape.x, shape.y + shape.height / 2);\r\n        textCtx.lineTo(shape.x + shape.width / 2, shape.y);\r\n        textCtx.closePath();\r\n        textCtx.fill();\r\n        textCtx.stroke();\r\n      } else if (shape.type === \"circle\") {\r\n        textCtx.beginPath();\r\n        textCtx.arc(shape.x, shape.y, shape.radiusX, 0, 2 * Math.PI);\r\n        textCtx.fill();\r\n        textCtx.stroke();\r\n      } else if (shape.type === \"oval\") {\r\n        textCtx.beginPath();\r\n        textCtx.ellipse(shape.x, shape.y, shape.radiusX, shape.radiusY, 0, 0, 2 * Math.PI);\r\n        textCtx.fill();\r\n        textCtx.stroke();\r\n      } else if (shape.type === \"triangle\") {\r\n        textCtx.beginPath();\r\n        textCtx.moveTo(shape.x, shape.y);\r\n        textCtx.lineTo(shape.x + shape.width / 2, shape.y - shape.height);\r\n        textCtx.lineTo(shape.x + shape.width, shape.y);\r\n        textCtx.closePath();\r\n        textCtx.fill();\r\n        textCtx.stroke();\r\n      }\r\n    });\r\n\r\n    // Draw text\r\n    if (note) {\r\n      textCtx.font = \"20px Arial\";\r\n      textCtx.fillStyle = \"#000\";\r\n      textCtx.fillText(note, 20, height - 30);\r\n    }\r\n\r\n    const dataUrl = textCanvas.toDataURL(\"image/png\");\r\n    const link = document.createElement(\"a\");\r\n    link.href = dataUrl;\r\n    link.download = \"my_drawing.png\";\r\n    link.click();\r\n  };\r\n\r\n  // New function to share via WhatsApp\r\n  const shareViaWhatsApp = () => {\r\n    if (!canvasRef.current) return;\r\n\r\n    const canvas = canvasRef.current.canvasContainer.children[1];\r\n    const tempCanvas = document.createElement(\"canvas\");\r\n    const tempCtx = tempCanvas.getContext(\"2d\");\r\n\r\n    tempCanvas.width = canvas.width;\r\n    tempCanvas.height = canvas.height;\r\n\r\n    // Draw background\r\n    tempCtx.fillStyle = background;\r\n    tempCtx.fillRect(0, 0, tempCanvas.width, tempCanvas.height);\r\n\r\n    // Draw canvas\r\n    tempCtx.drawImage(canvas, 0, 0);\r\n\r\n    // Draw shapes\r\n    shapes.forEach((shape) => {\r\n      tempCtx.strokeStyle = color;\r\n      tempCtx.lineWidth = brushSize;\r\n      tempCtx.fillStyle = shape.fillColor;\r\n\r\n      if (shape.type === \"rectangle\" || shape.type === \"square\") {\r\n        tempCtx.fillRect(shape.x, shape.y, shape.width, shape.height);\r\n        tempCtx.strokeRect(shape.x, shape.y, shape.width, shape.height);\r\n      } else if (shape.type === \"diamond\") {\r\n        tempCtx.beginPath();\r\n        tempCtx.moveTo(shape.x, shape.y - shape.height / 2);\r\n        tempCtx.lineTo(shape.x - shape.width / 2, shape.y);\r\n        tempCtx.lineTo(shape.x, shape.y + shape.height / 2);\r\n        tempCtx.lineTo(shape.x + shape.width / 2, shape.y);\r\n        tempCtx.closePath();\r\n        tempCtx.fill();\r\n        tempCtx.stroke();\r\n      } else if (shape.type === \"circle\") {\r\n        tempCtx.beginPath();\r\n        tempCtx.arc(shape.x, shape.y, shape.radiusX, 0, 2 * Math.PI);\r\n        tempCtx.fill();\r\n        tempCtx.stroke();\r\n      } else if (shape.type === \"oval\") {\r\n        tempCtx.beginPath();\r\n        tempCtx.ellipse(shape.x, shape.y, shape.radiusX, shape.radiusY, 0, 0, 2 * Math.PI);\r\n        tempCtx.fill();\r\n        tempCtx.stroke();\r\n      } else if (shape.type === \"triangle\") {\r\n        tempCtx.beginPath();\r\n        tempCtx.moveTo(shape.x, shape.y);\r\n        tempCtx.lineTo(shape.x + shape.width / 2, shape.y - shape.height);\r\n        tempCtx.lineTo(shape.x + shape.width, shape.y);\r\n        tempCtx.closePath();\r\n        tempCtx.fill();\r\n        tempCtx.stroke();\r\n      }\r\n    });\r\n\r\n    // Draw text\r\n    if (note) {\r\n      tempCtx.font = \"20px Arial\";\r\n      tempCtx.fillStyle = \"#000\";\r\n      tempCtx.fillText(note, 20, tempCanvas.height - 30);\r\n    }\r\n\r\n    const dataUrl = tempCanvas.toDataURL(\"image/png\");\r\n    const message = encodeURIComponent(\"Check out my drawing!\");\r\n    const whatsappUrl = `whatsapp://send?text=${message}&data=${dataUrl}`;\r\n    \r\n    // For web implementation, you might need a different approach\r\n    window.open(`https://api.whatsapp.com/send?text=${message}`, '_blank');\r\n  };\r\n\r\n  const drawShape = (e) => {\r\n    if (tool === \"brush\" || dragging || !toolActive) return;\r\n\r\n    const canvas = canvasRef.current.canvasContainer.children[1];\r\n    const rect = canvas.getBoundingClientRect();\r\n    const x = e.clientX - rect.left;\r\n    const y = e.clientY - rect.top;\r\n\r\n    const newShape = {\r\n      type: tool,\r\n      x,\r\n      y,\r\n      width: 100,\r\n      height: tool === \"square\" || tool === \"diamond\" ? 100 : 70,\r\n      radiusX: tool === \"oval\" ? 100 : 50,\r\n      radiusY: tool === \"oval\" ? 70 : 50,\r\n      fillColor: currentShapeColor,\r\n    };\r\n\r\n    setShapes([...shapes, newShape]);\r\n    setToolActive(false);\r\n  };\r\n\r\n  const handleMouseDown = (e) => {\r\n    const canvas = canvasRef.current.canvasContainer.children[1];\r\n    const rect = canvas.getBoundingClientRect();\r\n    const x = e.clientX - rect.left;\r\n    const y = e.clientY - rect.top;\r\n\r\n    const clickedShapeIndex = shapes.findIndex((shape) => {\r\n      if (shape.type === \"rectangle\" || shape.type === \"square\" || shape.type === \"diamond\") {\r\n        return x >= shape.x && x <= shape.x + shape.width && y >= shape.y && y <= shape.y + shape.height;\r\n      } else if (shape.type === \"circle\" || shape.type === \"oval\") {\r\n        const dx = x - shape.x;\r\n        const dy = y - shape.y;\r\n        return (dx * dx) / (shape.radiusX * shape.radiusX) + (dy * dy) / (shape.radiusY * shape.radiusY) <= 1;\r\n      } else if (shape.type === \"triangle\") {\r\n        return (\r\n          x >= shape.x && x <= shape.x + shape.width && y >= shape.y && y <= shape.y + shape.height\r\n        );\r\n      }\r\n      return false;\r\n    });\r\n\r\n    if (clickedShapeIndex !== -1) {\r\n      setDragging(true);\r\n      setDraggedShapeIndex(clickedShapeIndex);\r\n      setOffset({ x: x - shapes[clickedShapeIndex].x, y: y - shapes[clickedShapeIndex].y });\r\n      canvasRef.current.brushRadius = 0;\r\n    }\r\n  };\r\n\r\n  const handleMouseMove = (e) => {\r\n    if (!dragging || draggedShapeIndex === null) return;\r\n\r\n    const canvas = canvasRef.current.canvasContainer.children[1];\r\n    const rect = canvas.getBoundingClientRect();\r\n    const x = e.clientX - rect.left;\r\n    const y = e.clientY - rect.top;\r\n\r\n    const updatedShapes = [...shapes];\r\n    updatedShapes[draggedShapeIndex] = {\r\n      ...updatedShapes[draggedShapeIndex],\r\n      x: x - offset.x,\r\n      y: y - offset.y,\r\n    };\r\n\r\n    setShapes(updatedShapes);\r\n  };\r\n\r\n  const handleMouseUp = () => {\r\n    if (dragging) {\r\n      setDragging(false);\r\n      setDraggedShapeIndex(null);\r\n      canvasRef.current.brushRadius = brushSize;\r\n    }\r\n  };\r\n\r\n  const drawAllShapes = () => {\r\n    const canvas = canvasRef.current.canvasContainer.children[1];\r\n    const ctx = canvas.getContext(\"2d\");\r\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n\r\n    shapes.forEach((shape) => {\r\n      ctx.strokeStyle = color;\r\n      ctx.lineWidth = brushSize;\r\n      ctx.fillStyle = shape.fillColor;\r\n\r\n      if (shape.type === \"rectangle\" || shape.type === \"square\") {\r\n        ctx.fillRect(shape.x, shape.y, shape.width, shape.height);\r\n        ctx.strokeRect(shape.x, shape.y, shape.width, shape.height);\r\n      } else if (shape.type === \"diamond\") {\r\n        ctx.beginPath();\r\n        ctx.moveTo(shape.x, shape.y - shape.height / 2);\r\n        ctx.lineTo(shape.x - shape.width / 2, shape.y);\r\n        ctx.lineTo(shape.x, shape.y + shape.height / 2);\r\n        ctx.lineTo(shape.x + shape.width / 2, shape.y);\r\n        ctx.closePath();\r\n        ctx.fill();\r\n        ctx.stroke();\r\n      } else if (shape.type === \"circle\") {\r\n        ctx.beginPath();\r\n        ctx.arc(shape.x, shape.y, shape.radiusX, 0, 2 * Math.PI);\r\n        ctx.fill();\r\n        ctx.stroke();\r\n      } else if (shape.type === \"oval\") {\r\n        ctx.beginPath();\r\n        ctx.ellipse(shape.x, shape.y, shape.radiusX, shape.radiusY, 0, 0, 2 * Math.PI);\r\n        ctx.fill();\r\n        ctx.stroke();\r\n      } else if (shape.type === \"triangle\") {\r\n        ctx.beginPath();\r\n        ctx.moveTo(shape.x, shape.y);\r\n        ctx.lineTo(shape.x + shape.width / 2, shape.y - shape.height);\r\n        ctx.lineTo(shape.x + shape.width, shape.y);\r\n        ctx.closePath();\r\n        ctx.fill();\r\n        ctx.stroke();\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    drawAllShapes();\r\n  }, [shapes]);\r\n\r\n  const handleToolChange = (newTool) => {\r\n    setTool(newTool);\r\n    setToolActive(true);\r\n  };\r\n\r\n  const undoShape = () => {\r\n    if (shapes.length > 0) {\r\n      setShapes((prevShapes) => prevShapes.slice(0, -1));\r\n    } else {\r\n      canvasRef.current?.undo();\r\n    }\r\n  };\r\n\r\n  // SVG Icons\r\n  const RectangleIcon = () => (\r\n    <svg width=\"30\" height=\"30\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n      <rect x=\"2\" y=\"2\" width=\"20\" height=\"20\" stroke=\"currentColor\" strokeWidth=\"2\" fill=\"none\" />\r\n    </svg>\r\n  );\r\n\r\n  const SquareIcon = () => (\r\n    <svg width=\"30\" height=\"30\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n      <rect x=\"2\" y=\"2\" width=\"20\" height=\"20\" stroke=\"currentColor\" strokeWidth=\"2\" fill=\"none\" />\r\n    </svg>\r\n  );\r\n\r\n  const CircleIcon = () => (\r\n    <svg width=\"30\" height=\"30\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n      <circle cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"2\" fill=\"none\" />\r\n    </svg>\r\n  );\r\n\r\n  const TriangleIcon = () => (\r\n    <svg width=\"30\" height=\"30\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n      <polygon points=\"12,2 22,22 2,22\" stroke=\"currentColor\" strokeWidth=\"2\" fill=\"none\" />\r\n    </svg>\r\n  );\r\n\r\n  const DiamondIcon = () => (\r\n    <svg width=\"30\" height=\"30\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n      <polygon points=\"12,2 22,12 12,22 2,12\" stroke=\"currentColor\" strokeWidth=\"2\" fill=\"none\" />\r\n    </svg>\r\n  );\r\n\r\n  const OvalIcon = () => (\r\n    <svg width=\"30\" height=\"30\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n      <ellipse cx=\"12\" cy=\"12\" rx=\"10\" ry=\"6\" stroke=\"currentColor\" strokeWidth=\"2\" fill=\"none\" />\r\n    </svg>\r\n  );\r\n\r\n  const navigate = useNavigate();\r\n\r\n  return (\r\n    <div className=\"note-container\">\r\n      <div className=\"main-box\">\r\n        <div className=\"top-section\">\r\n          <div className=\"column\">\r\n            <h3>Tools</h3>\r\n            <div className=\"button-row\">\r\n              <button\r\n                onClick={() => handleToolChange(\"brush\")}\r\n                className={tool === \"brush\" ? \"active-tool\" : \"\"}\r\n              >\r\n                <BrushIcon />\r\n              </button>\r\n              <button onClick={toggleEraser}>\r\n                {isErasing ? \"Use Brush\" : \"Use Eraser\"}\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"column\">\r\n            <h3>Colour</h3>\r\n            <div className=\"color-picker-container\">\r\n              <button \r\n                onClick={() => setShowColorPicker(!showColorPicker)}\r\n                className=\"color-preview\"\r\n                style={{ backgroundColor: color }}\r\n              />\r\n              {showColorPicker && (\r\n                <div className=\"color-palette\">\r\n                  {colorPalette.map((c) => (\r\n                    <div\r\n                      key={c}\r\n                      className=\"color-swatch\"\r\n                      style={{ backgroundColor: c }}\r\n                      onClick={() => {\r\n                        setColor(c);\r\n                        setShowColorPicker(false);\r\n                        setIsErasing(false);\r\n                      }}\r\n                    />\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n            <div className=\"brush-size-container\">\r\n              <button \r\n                onClick={() => setShowBrushSizePicker(!showBrushSizePicker)}\r\n                className=\"brush-size-preview\"\r\n              >\r\n                {brushSize}px\r\n              </button>\r\n              {showBrushSizePicker && (\r\n                <div className=\"brush-size-options\">\r\n                  {[1, 2, 3, 4, 5, 6, 7, 8, 9, 10].map((size) => (\r\n                    <div\r\n                      key={size}\r\n                      className=\"brush-size-option\"\r\n                      onClick={() => {\r\n                        setBrushSize(size);\r\n                        setShowBrushSizePicker(false);\r\n                      }}\r\n                    >\r\n                      {size}px\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"column\">\r\n            <h3>Shapes</h3>\r\n            <div className=\"shape-row\">\r\n              <button\r\n                onClick={() => handleToolChange(\"rectangle\")}\r\n                className={tool === \"rectangle\" ? \"active-tool\" : \"\"}\r\n              >\r\n                <RectangleIcon />\r\n              </button>\r\n              <button\r\n                onClick={() => handleToolChange(\"square\")}\r\n                className={tool === \"square\" ? \"active-tool\" : \"\"}\r\n              >\r\n                <SquareIcon />\r\n              </button>\r\n              <button\r\n                onClick={() => handleToolChange(\"circle\")}\r\n                className={tool === \"circle\" ? \"active-tool\" : \"\"}\r\n              >\r\n                <CircleIcon />\r\n              </button>\r\n            </div>\r\n            <div className=\"shape-row\">\r\n              <button\r\n                onClick={() => handleToolChange(\"triangle\")}\r\n                className={tool === \"triangle\" ? \"active-tool\" : \"\"}\r\n              >\r\n                <TriangleIcon />\r\n              </button>\r\n              <button\r\n                onClick={() => handleToolChange(\"diamond\")}\r\n                className={tool === \"diamond\" ? \"active-tool\" : \"\"}\r\n              >\r\n                <DiamondIcon />\r\n              </button>\r\n              <button\r\n                onClick={() => handleToolChange(\"oval\")}\r\n                className={tool === \"oval\" ? \"active-tool\" : \"\"}\r\n              >\r\n                <OvalIcon />\r\n              </button>\r\n            </div>\r\n            <div className=\"shape-color-picker\">\r\n              <label>Shape Color:</label>\r\n              <input\r\n                type=\"color\"\r\n                value={currentShapeColor}\r\n                onChange={(e) => setCurrentShapeColor(e.target.value)}\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"column\">\r\n            <h3>Edit</h3>\r\n            <button onClick={() => canvasRef.current?.clear()}>Clear</button>\r\n            <button onClick={undoShape}>Undo</button>\r\n            <div className=\"background-picker\">\r\n              <label>Background:</label>\r\n              <input\r\n                type=\"color\"\r\n                value={background}\r\n                onChange={(e) => setBackground(e.target.value)}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div\r\n          onClick={drawShape}\r\n          onMouseDown={handleMouseDown}\r\n          onMouseMove={handleMouseMove}\r\n          onMouseUp={handleMouseUp}\r\n          style={{\r\n            width: \"100%\",\r\n            height: \"500px\",\r\n            position: \"relative\",\r\n            border: \"1px solid #ccc\",\r\n            backgroundColor: background\r\n          }}\r\n        >\r\n          <CanvasDraw\r\n            ref={canvasRef}\r\n            brushColor={color}\r\n            brushRadius={tool === \"brush\" ? brushSize : 0}\r\n            lazyRadius={0}\r\n            canvasWidth={800}\r\n            canvasHeight={500}\r\n            hideGrid\r\n            className=\"drawing-canvas\"\r\n          />\r\n        </div>\r\n\r\n        <textarea\r\n          className=\"note-input\"\r\n          placeholder=\"Write your note...\"\r\n          value={note}\r\n          onChange={(e) => setNote(e.target.value)}\r\n        />\r\n\r\n        <div className=\"btn-group\">\r\n          <button onClick={saveDrawing}>Save Drawing</button>\r\n          <button onClick={shareViaWhatsApp} className=\"postcard-button\">\r\n            Share as Postcard\r\n          </button>\r\n          <button onClick={() => navigate('/gallery')}>Go to Gallery</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NoteItCanvas;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}